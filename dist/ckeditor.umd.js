(function(a,l){typeof exports=="object"&&typeof module<"u"?module.exports=l(require("vue")):typeof define=="function"&&define.amd?define(["vue"],l):(a=typeof globalThis<"u"?globalThis:a||self,a.CKEditor=l(a.Vue))})(this,function(a){"use strict";function l(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const w=l(a);var W=typeof global=="object"&&global&&global.Object===Object&&global;const M=W;var P=typeof self=="object"&&self&&self.Object===Object&&self,B=M||P||Function("return this")();const I=B;var K=I.Symbol;const p=K;var C=Object.prototype,L=C.hasOwnProperty,A=C.toString,f=p?p.toStringTag:void 0;function U(e){var t=L.call(e,f),n=e[f];try{e[f]=void 0;var r=!0}catch{}var d=A.call(e);return r&&(t?e[f]=n:delete e[f]),d}var F=Object.prototype,q=F.toString;function G(e){return q.call(e)}var z="[object Null]",H="[object Undefined]",$=p?p.toStringTag:void 0;function X(e){return e==null?e===void 0?H:z:$&&$ in Object(e)?U(e):G(e)}function Y(e){return e!=null&&typeof e=="object"}var J="[object Symbol]";function Q(e){return typeof e=="symbol"||Y(e)&&X(e)==J}var Z=/\s/;function ee(e){for(var t=e.length;t--&&Z.test(e.charAt(t)););return t}var te=/^\s+/;function ne(e){return e&&e.slice(0,ee(e)+1).replace(te,"")}function T(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _=0/0,ie=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,oe=/^0o[0-7]+$/i,ae=parseInt;function k(e){if(typeof e=="number")return e;if(Q(e))return _;if(T(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=T(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ne(e);var n=re.test(e);return n||oe.test(e)?ae(e.slice(2),n?2:8):ie.test(e)?_:+e}var se=function(){return I.Date.now()};const O=se;var de="Expected a function",ce=Math.max,ue=Math.min;function le(e,t,n){var r,d,m,u,o,c,g=0,N=!1,b=!1,j=!0;if(typeof e!="function")throw new TypeError(de);t=k(t)||0,T(n)&&(N=!!n.leading,b="maxWait"in n,m=b?ce(k(n.maxWait)||0,t):m,j="trailing"in n?!!n.trailing:j);function v(i){var s=r,h=d;return r=d=void 0,g=i,u=e.apply(h,s),u}function me(i){return g=i,o=setTimeout(y,t),N?v(i):u}function ge(i){var s=i-c,h=i-g,V=t-s;return b?ue(V,m-h):V}function x(i){var s=i-c,h=i-g;return c===void 0||s>=t||s<0||b&&h>=m}function y(){var i=O();if(x(i))return R(i);o=setTimeout(y,ge(i))}function R(i){return o=void 0,j&&r?v(i):(r=d=void 0,u)}function be(){o!==void 0&&clearTimeout(o),g=0,r=c=d=o=void 0}function he(){return o===void 0?u:R(O())}function S(){var i=O(),s=x(i);if(r=arguments,d=this,c=i,s){if(o===void 0)return me(c);if(b)return clearTimeout(o),o=setTimeout(y,t),v(c)}return o===void 0&&(o=setTimeout(y,t)),u}return S.cancel=be,S.flush=he,S}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const E="Integration Sample",fe=300,D=a.defineComponent({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data(){return{instance:null,lastEditorData:null}},watch:{modelValue(e){this.instance&&e!==this.lastEditorData&&this.instance.data.set(e)},disabled(e){e?this.instance.enableReadOnlyMode(E):this.instance.disableReadOnlyMode(E)}},created(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")},mounted(){const e=Object.assign({},this.config);this.modelValue&&(e.initialData=this.modelValue),this.editor.create(this.$el,e).then(t=>{this.instance=a.markRaw(t),this.setUpEditorEvents(),this.modelValue!==e.initialData&&t.data.set(this.modelValue),this.disabled&&t.enableReadOnlyMode(E),this.$emit("ready",t)}).catch(t=>{console.error(t)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const e=this.instance,t=le(n=>{if(this.disableTwoWayDataBinding)return;const r=this.lastEditorData=e.data.get();this.$emit("update:modelValue",r,n,e),this.$emit("input",r,n,e)},fe,{leading:!0});e.model.document.on("change:data",t),e.editing.view.document.on("focus",n=>{this.$emit("focus",n,e)}),e.editing.view.document.on("blur",n=>{this.$emit("blur",n,e)})}},render(){return a.h(this.tagName)}});/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */if(!w.version||!w.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");return{install(e){e.component("Ckeditor",D)},component:D}});
